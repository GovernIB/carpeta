{
  "openapi": "3.0.1",
  "info": {
    "title": "API Interna NOTIB",
    "description": "API Interna de NOTIB",
    "contact": {
      "name": "Limit Tecnologies",
      "url": "http://limit.es",
      "email": "limit@limit.es"
    },
    "version": "v2.0"
  },
  "servers": [
    { "url": "/notibapi/interna", "description": "Servidor per defecte" },
    {
      "url": "https://proves.caib.es/notibapi/interna",
      "description": "Servidor de l'entorn de PROVES"
    }
  ],
  "security": [{ "basic": [] }],
  "tags": [
    { "name": "Consulta v2", "description": "API de consulta v2" },
    { "name": "Notificacio v2", "description": "API de notificació v2" },
    { "name": "Informació Notib", "description": "API de informació de Notib" }
  ],
  "paths": {
    "/notificacio/v2/permisConsulta": {
      "post": {
        "tags": ["Notificacio v2"],
        "summary": "Donar permis de consulta a un usuari sobre un procediment",
        "description": "Aquest mètode permet donar el permís de consulta a un usuari específic",
        "operationId": "donarPermisConsultaV2",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": { "$ref": "#/components/schemas/PermisConsulta" }
            }
          },
          "required": true
        },
        "responses": {
          "400": { "description": "Bad Request" },
          "200": {
            "description": "Permisos assignats",
            "content": {
              "application/json": { "schema": { "type": "string" } }
            }
          },
          "201": {
            "description": "Created",
            "content": {
              "application/json": { "schema": { "type": "string" } }
            }
          }
        }
      }
    },
    "/notificacio/v2/consultaDadesRegistre": {
      "post": {
        "tags": ["Notificacio v2"],
        "summary": "Genera el justificant i consulta la informació del registre d'una notificació.",
        "description": "Retorna la informació del registre i el justificant d'una notificació dins Notib.",
        "operationId": "consultaDadesRegistre",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": { "$ref": "#/components/schemas/DadesConsulta" }
            }
          },
          "required": true
        },
        "responses": {
          "400": { "description": "Bad Request" },
          "200": {
            "description": "Consulta realitzada correctament",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RespostaConsultaDadesRegistreV2"
                }
              }
            }
          }
        }
      }
    },
    "/notificacio/v2/alta": {
      "post": {
        "tags": ["Notificacio v2"],
        "summary": "Registra i envia la notificació a Notific@.",
        "description": "Retorna una llista amb els codis dels enviaments creats per poder consultar el seu estat posteriorment",
        "operationId": "alta",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": { "$ref": "#/components/schemas/NotificacioV2" }
            }
          },
          "required": true
        },
        "responses": {
          "400": { "description": "Bad Request" },
          "201": {
            "description": "Alta de notificació",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/RespostaAltaV2" }
              }
            }
          }
        }
      }
    },
    "/notificacio/v2/consultaJustificantNotificacio/**": {
      "get": {
        "tags": ["Notificacio v2"],
        "summary": "Consulta el justificant de l'enviament d'una notificació",
        "description": "Retorna el document PDF amb el justificant de l'enviament de la notificació",
        "operationId": "consultaJustificantV2",
        "parameters": [
          {
            "name": "identificador",
            "in": "query",
            "description": "Identificador de la notificació a consultar. \n * A la url del mètode es mostra aquest identificador com a '**' degut a que per compatibilitat amb versions antigues, es poden trobar identificadors que contenen el caràcter '/'. \n * Actualment els identificadors tenen el format de UUID",
            "required": true,
            "schema": { "type": "string" },
            "example": "00000000-0000-0000-0000-000000000000"
          }
        ],
        "responses": {
          "400": { "description": "Bad Request" },
          "200": {
            "description": "Consulta realitzada correctament",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RespostaConsultaJustificantEnviament"
                }
              }
            }
          }
        }
      }
    },
    "/notificacio/v2/consultaEstatNotificacio/**": {
      "get": {
        "tags": ["Notificacio v2"],
        "summary": "Consulta de la informació d'una notificació",
        "description": "Retorna la informació sobre l'estat de l'enviament dins Notib o Notific@",
        "operationId": "consultaEstatNotificacio",
        "parameters": [
          {
            "name": "identificador",
            "in": "query",
            "description": "Identificador de la notificació a consultar. \n * A la url del mètode es mostra aquest identificador com a '**' degut a que per compatibilitat amb versions antigues, es poden trobar identificadors que contenen el caràcter '/'. \n * Actualment els identificadors tenen el format de UUID",
            "required": true,
            "schema": { "type": "string" },
            "example": "00000000-0000-0000-0000-000000000000"
          }
        ],
        "responses": {
          "400": { "description": "Bad Request" },
          "200": {
            "description": "Consulta realitzada correctament",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RespostaConsultaEstatNotificacioV2"
                }
              }
            }
          }
        }
      }
    },
    "/notificacio/v2/consultaEstatEnviament/**": {
      "get": {
        "tags": ["Notificacio v2"],
        "summary": "Consulta la informació de l'estat d'un enviament dins Notific@",
        "description": "Retorna la informació sobre l'estat de l'enviament dins Notific@.",
        "operationId": "consultaEstatEnviament",
        "parameters": [
          {
            "name": "referencia",
            "in": "query",
            "description": "Referència de la notificació a consultar. \n * A la url del mètode es mostra aquesta referència com a '**' degut a que per compatibilitat amb versions antigues, es poden trobar referències que contenen el caràcter '/'. \n * Actualment les referències tenen el format de UUID",
            "required": true,
            "schema": { "type": "string" },
            "example": "00000000-0000-0000-0000-000000000000"
          }
        ],
        "responses": {
          "400": { "description": "Bad Request" },
          "200": {
            "description": "Consulta realitzada correctament",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RespostaConsultaEstatEnviamentV2"
                }
              }
            }
          }
        }
      }
    },
    "/consulta/v2/notificacions/{dniTitular}": {
      "get": {
        "tags": ["Consulta v2"],
        "summary": "Consulta totes les notificacions d'un titular donat el seu dni",
        "description": "Retorna informació de totes les notificacions d'un titular, i el seu estat",
        "operationId": "notificacionsByTitular",
        "parameters": [
          {
            "name": "dniTitular",
            "in": "path",
            "description": "DNI del titular de les comunicacions a consultar",
            "required": true,
            "schema": { "type": "string" }
          },
          {
            "name": "dataInicial",
            "in": "query",
            "description": "Data inicial d'enviament a consultar",
            "required": false,
            "content": {
              "*/*": { "schema": { "type": "string", "format": "date" } }
            }
          },
          {
            "name": "dataFinal",
            "in": "query",
            "description": "Datfa final d'enviament a consultar",
            "required": false,
            "content": {
              "*/*": { "schema": { "type": "string", "format": "date" } }
            }
          },
          {
            "name": "visibleCarpeta",
            "in": "query",
            "description": "Filtrar per visible a carpeta. Si s'indica el valor si, només es retornaran enviaments amb estats visibles per la carpeta. Si s'indica el valor no, es retornaran tots els enviaments independentment de si els seus estats son visible o no a la carpeta.",
            "required": false,
            "content": { "*/*": { "schema": { "type": "boolean" } } }
          },
          {
            "name": "lang",
            "in": "query",
            "description": "Idioma de les descripcions",
            "required": false,
            "content": {
              "*/*": { "schema": { "type": "string", "enum": ["CA", "ES"] } }
            }
          },
          {
            "name": "pagina",
            "in": "query",
            "description": "Número de pàgina a mostrar en la paginació",
            "required": false,
            "schema": { "type": "integer", "format": "int32" }
          },
          {
            "name": "mida",
            "in": "query",
            "description": "Mida de la pàgina a mostrar en la paginació",
            "required": false,
            "schema": { "type": "integer", "format": "int32" }
          }
        ],
        "responses": {
          "400": { "description": "Bad Request" },
          "200": {
            "description": "Notificacions/Comunicacions per titular",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/RespostaConsultaV2" }
              }
            }
          }
        }
      }
    },
    "/consulta/v2/notificacions/{dniTitular}/pendents": {
      "get": {
        "tags": ["Consulta v2"],
        "summary": "Consulta totes les notificacions pendents (no llegides) d'un titular donat el seu dni",
        "description": "Retorna informació sobre les notificacions pendents d'un titular, i el seu estat",
        "operationId": "notificacionsPendentsByTitular",
        "parameters": [
          {
            "name": "dniTitular",
            "in": "path",
            "description": "DNI del titular de les comunicacions a consultar",
            "required": true,
            "schema": { "type": "string" }
          },
          {
            "name": "dataInicial",
            "in": "query",
            "description": "Data inicial d'enviament a consultar",
            "required": false,
            "content": {
              "*/*": { "schema": { "type": "string", "format": "date" } }
            }
          },
          {
            "name": "dataFinal",
            "in": "query",
            "description": "Datfa final d'enviament a consultar",
            "required": false,
            "content": {
              "*/*": { "schema": { "type": "string", "format": "date" } }
            }
          },
          {
            "name": "visibleCarpeta",
            "in": "query",
            "description": "Filtrar per visible a carpeta. Si s'indica el valor si, només es retornaran enviaments amb estats visibles per la carpeta. Si s'indica el valor no, es retornaran tots els enviaments independentment de si els seus estats son visible o no a la carpeta.",
            "required": false,
            "content": { "*/*": { "schema": { "type": "boolean" } } }
          },
          {
            "name": "lang",
            "in": "query",
            "description": "Idioma de les descripcions",
            "required": false,
            "content": {
              "*/*": { "schema": { "type": "string", "enum": ["CA", "ES"] } }
            }
          },
          {
            "name": "pagina",
            "in": "query",
            "description": "Número de pàgina a mostrar en la paginació",
            "required": false,
            "schema": { "type": "integer", "format": "int32" }
          },
          {
            "name": "mida",
            "in": "query",
            "description": "Mida de la pàgina a mostrar en la paginació",
            "required": false,
            "schema": { "type": "integer", "format": "int32" }
          }
        ],
        "responses": {
          "400": { "description": "Bad Request" },
          "200": {
            "description": "Notificacions/Comunicacions per titular",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/RespostaConsultaV2" }
              }
            }
          }
        }
      }
    },
    "/consulta/v2/notificacions/{dniTitular}/llegides": {
      "get": {
        "tags": ["Consulta v2"],
        "summary": "Consulta totes les notificacions llegides d'un titular donat el seu dni",
        "description": "Retorna informació sobre les notificacions ja llegides d'un titular, i el seu estat",
        "operationId": "notificacionsLlegidesByTitular",
        "parameters": [
          {
            "name": "dniTitular",
            "in": "path",
            "description": "DNI del titular de les comunicacions a consultar",
            "required": true,
            "schema": { "type": "string" }
          },
          {
            "name": "dataInicial",
            "in": "query",
            "description": "Data inicial d'enviament a consultar",
            "required": false,
            "content": {
              "*/*": { "schema": { "type": "string", "format": "date" } }
            }
          },
          {
            "name": "dataFinal",
            "in": "query",
            "description": "Datfa final d'enviament a consultar",
            "required": false,
            "content": {
              "*/*": { "schema": { "type": "string", "format": "date" } }
            }
          },
          {
            "name": "visibleCarpeta",
            "in": "query",
            "description": "Filtrar per visible a carpeta. Si s'indica el valor si, només es retornaran enviaments amb estats visibles per la carpeta. Si s'indica el valor no, es retornaran tots els enviaments independentment de si els seus estats son visible o no a la carpeta.",
            "required": false,
            "content": { "*/*": { "schema": { "type": "boolean" } } }
          },
          {
            "name": "lang",
            "in": "query",
            "description": "Idioma de les descripcions",
            "required": false,
            "content": {
              "*/*": { "schema": { "type": "string", "enum": ["CA", "ES"] } }
            }
          },
          {
            "name": "pagina",
            "in": "query",
            "description": "Número de pàgina a mostrar en la paginació",
            "required": false,
            "schema": { "type": "integer", "format": "int32" }
          },
          {
            "name": "mida",
            "in": "query",
            "description": "Mida de la pàgina a mostrar en la paginació",
            "required": false,
            "schema": { "type": "integer", "format": "int32" }
          }
        ],
        "responses": {
          "400": { "description": "Bad Request" },
          "200": {
            "description": "Notificacions/Comunicacions per titular",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/RespostaConsultaV2" }
              }
            }
          }
        }
      }
    },
    "/consulta/v2/justificant/{enviamentId}": {
      "get": {
        "tags": ["Consulta v2"],
        "summary": "Obté el justificant d'una comunicació",
        "description": "Retorna el document de justificant de entrega de la comunicació. El contingut del document està en Base64",
        "operationId": "getJustificant",
        "parameters": [
          {
            "name": "enviamentId",
            "in": "path",
            "description": "Identificador de l'enviament de la que es vol obtenir el justificant",
            "required": true,
            "schema": { "type": "integer", "format": "int64" }
          }
        ],
        "responses": {
          "400": { "description": "Bad Request" },
          "200": {
            "description": "Notificacions/Comunicacions per titular",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/Arxiu" }
              }
            }
          }
        }
      }
    },
    "/consulta/v2/document/{notificacioId}": {
      "get": {
        "tags": ["Consulta v2"],
        "summary": "Obté el document d'una notificació",
        "description": "Retorna el document de la notificació. El contingut del document està en Base64",
        "operationId": "getDocument",
        "parameters": [
          {
            "name": "notificacioId",
            "in": "path",
            "description": "Identificador de la notificació de la que es vol obtenir el document",
            "required": true,
            "schema": { "type": "integer", "format": "int64" }
          }
        ],
        "responses": {
          "400": { "description": "Bad Request" },
          "200": {
            "description": "Notificacions/Comunicacions per titular",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/Arxiu" }
              }
            }
          }
        }
      }
    },
    "/consulta/v2/comunicacions/{dniTitular}": {
      "get": {
        "tags": ["Consulta v2"],
        "summary": "Consulta totes les comunicacions d'un titular donat el seu dni",
        "description": "Retorna informació de totes les comunicacions d'un titular, i el seu estat",
        "operationId": "comunicacionsByTitular",
        "parameters": [
          {
            "name": "dniTitular",
            "in": "path",
            "description": "DNI del titular de les comunicacions a consultar",
            "required": true,
            "schema": { "type": "string" }
          },
          {
            "name": "dataInicial",
            "in": "query",
            "description": "Data inicial d'enviament a consultar",
            "required": false,
            "content": {
              "*/*": { "schema": { "type": "string", "format": "date" } }
            }
          },
          {
            "name": "dataFinal",
            "in": "query",
            "description": "Datfa final d'enviament a consultar",
            "required": false,
            "content": {
              "*/*": { "schema": { "type": "string", "format": "date" } }
            }
          },
          {
            "name": "visibleCarpeta",
            "in": "query",
            "description": "Filtrar per visible a carpeta. Si s'indica el valor si, només es retornaran enviaments amb estats visibles per la carpeta. Si s'indica el valor no, es retornaran tots els enviaments independentment de si els seus estats son visible o no a la carpeta.",
            "required": false,
            "content": { "*/*": { "schema": { "type": "boolean" } } }
          },
          {
            "name": "lang",
            "in": "query",
            "description": "Idioma de les descripcions",
            "required": false,
            "content": {
              "*/*": { "schema": { "type": "string", "enum": ["CA", "ES"] } }
            }
          },
          {
            "name": "pagina",
            "in": "query",
            "description": "Número de pàgina a mostrar en la paginació",
            "required": false,
            "schema": { "type": "integer", "format": "int32" }
          },
          {
            "name": "mida",
            "in": "query",
            "description": "Mida de la pàgina a mostrar en la paginació",
            "required": false,
            "schema": { "type": "integer", "format": "int32" }
          }
        ],
        "responses": {
          "400": { "description": "Bad Request" },
          "200": {
            "description": "Notificacions/Comunicacions per titular",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/RespostaConsultaV2" }
              }
            }
          }
        }
      }
    },
    "/consulta/v2/comunicacions/{dniTitular}/pendents": {
      "get": {
        "tags": ["Consulta v2"],
        "summary": "Consulta totes les comunicacions pendents (no llegides) d'un titular donat el seu dni",
        "description": "Retorna informació sobre les comunicacions pendents d'un titular, i el seu estat",
        "operationId": "comunicacionsPendentsByTitular",
        "parameters": [
          {
            "name": "dniTitular",
            "in": "path",
            "description": "DNI del titular de les comunicacions a consultar",
            "required": true,
            "schema": { "type": "string" }
          },
          {
            "name": "dataInicial",
            "in": "query",
            "description": "Data inicial d'enviament a consultar",
            "required": false,
            "content": {
              "*/*": { "schema": { "type": "string", "format": "date" } }
            }
          },
          {
            "name": "dataFinal",
            "in": "query",
            "description": "Datfa final d'enviament a consultar",
            "required": false,
            "content": {
              "*/*": { "schema": { "type": "string", "format": "date" } }
            }
          },
          {
            "name": "visibleCarpeta",
            "in": "query",
            "description": "Filtrar per visible a carpeta. Si s'indica el valor si, només es retornaran enviaments amb estats visibles per la carpeta. Si s'indica el valor no, es retornaran tots els enviaments independentment de si els seus estats son visible o no a la carpeta.",
            "required": false,
            "content": { "*/*": { "schema": { "type": "boolean" } } }
          },
          {
            "name": "lang",
            "in": "query",
            "description": "Idioma de les descripcions",
            "required": false,
            "content": {
              "*/*": { "schema": { "type": "string", "enum": ["CA", "ES"] } }
            }
          },
          {
            "name": "pagina",
            "in": "query",
            "description": "Número de pàgina a mostrar en la paginació",
            "required": false,
            "schema": { "type": "integer", "format": "int32" }
          },
          {
            "name": "mida",
            "in": "query",
            "description": "Mida de la pàgina a mostrar en la paginació",
            "required": false,
            "schema": { "type": "integer", "format": "int32" }
          }
        ],
        "responses": {
          "400": { "description": "Bad Request" },
          "200": {
            "description": "Notificacions/Comunicacions per titular",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/RespostaConsultaV2" }
              }
            }
          }
        }
      }
    },
    "/consulta/v2/comunicacions/{dniTitular}/llegides": {
      "get": {
        "tags": ["Consulta v2"],
        "summary": "Consulta totes les comunicacions llegides d'un titular donat el seu dni",
        "description": "Retorna informació sobre les comunicacions ja llegides d'un titular, i el seu estat",
        "operationId": "comunicacionsLlegidesByTitular",
        "parameters": [
          {
            "name": "dniTitular",
            "in": "path",
            "description": "DNI del titular de les comunicacions a consultar",
            "required": true,
            "schema": { "type": "string" }
          },
          {
            "name": "dataInicial",
            "in": "query",
            "description": "Data inicial d'enviament a consultar",
            "required": false,
            "content": {
              "*/*": { "schema": { "type": "string", "format": "date" } }
            }
          },
          {
            "name": "dataFinal",
            "in": "query",
            "description": "Datfa final d'enviament a consultar",
            "required": false,
            "content": {
              "*/*": { "schema": { "type": "string", "format": "date" } }
            }
          },
          {
            "name": "visibleCarpeta",
            "in": "query",
            "description": "Filtrar per visible a carpeta. Si s'indica el valor si, només es retornaran enviaments amb estats visibles per la carpeta. Si s'indica el valor no, es retornaran tots els enviaments independentment de si els seus estats son visible o no a la carpeta.",
            "required": false,
            "content": { "*/*": { "schema": { "type": "boolean" } } }
          },
          {
            "name": "lang",
            "in": "query",
            "description": "Idioma de les descripcions",
            "required": false,
            "content": {
              "*/*": { "schema": { "type": "string", "enum": ["CA", "ES"] } }
            }
          },
          {
            "name": "pagina",
            "in": "query",
            "description": "Número de pàgina a mostrar en la paginació",
            "required": false,
            "schema": { "type": "integer", "format": "int32" }
          },
          {
            "name": "mida",
            "in": "query",
            "description": "Mida de la pàgina a mostrar en la paginació",
            "required": false,
            "schema": { "type": "integer", "format": "int32" }
          }
        ],
        "responses": {
          "400": { "description": "Bad Request" },
          "200": {
            "description": "Notificacions/Comunicacions per titular",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/RespostaConsultaV2" }
              }
            }
          }
        }
      }
    },
    "/consulta/v2/certificacio/{enviamentId}": {
      "get": {
        "tags": ["Consulta v2"],
        "summary": "Obté la certificació d'una notificació",
        "description": "Retorna el document de certificació de lectura de la notificació. El contingut del document està en Base64",
        "operationId": "getCertificacio",
        "parameters": [
          {
            "name": "enviamentId",
            "in": "path",
            "description": "Identificador de l'enviament de la que es vol obtenir la certificació",
            "required": true,
            "schema": { "type": "integer", "format": "int64" }
          }
        ],
        "responses": {
          "400": { "description": "Bad Request" },
          "200": {
            "description": "Notificacions/Comunicacions per titular",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/Arxiu" }
              }
            }
          }
        }
      }
    },
    "/api/rest/appinfo": {
      "get": {
        "tags": ["Informació Notib"],
        "summary": "Consulta la informació de la API",
        "description": "Retorna la data i la versió de la API REST Interna Notib",
        "operationId": "getAppInfo",
        "responses": {
          "200": {
            "description": "Informació de l'aplicació",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/AppInfo" }
              }
            }
          }
        },
        "security": []
      }
    }
  },
  "components": {
    "schemas": {
      "PermisConsulta": {
        "type": "object",
        "properties": {
          "codiDir3Entitat": {
            "type": "string",
            "description": "Codi dir3 de l'entitat en la que es vol donar permís de consulta",
            "example": "A04003003"
          },
          "permisConsulta": {
            "type": "boolean",
            "description": "Indica si es vol donar o treure el permís de consulta",
            "example": true
          },
          "procedimentCodi": {
            "type": "string",
            "description": "Codi SIA del procediment sobre el que es vol donar permís de consulta",
            "example": "666666"
          },
          "usuariCodi": {
            "type": "string",
            "description": "Codi de l'usuari al que es vol donar permís de consulta",
            "example": "u000000"
          }
        },
        "description": "Objecte amb les dades necessàries per donar el permís"
      },
      "DadesConsulta": {
        "type": "object",
        "properties": {
          "identificador": {
            "type": "string",
            "description": "Identificador únic de la notificació a consultar\n * Camp mantingut únicament per compatibilitat amb versions antigues\n * S'ha d'indicar un idientificador o una referència. En cas d'informar ambdós, només es tindrà en compte l'identificador. Es recomana cercar sempre per referència",
            "example": "00000000-0000-0000-0000-000000000000"
          },
          "referencia": {
            "type": "string",
            "description": "Referència (identificador) única de l'enviament que es vol consultar\n * S'ha d'indicar un idientificador o una referència. En cas d'informar ambdós, només es tindrà en compte l'identificador.\n * Es recomana cercar sempre per referència",
            "example": "00000000-0000-0000-0000-000000000000"
          },
          "ambJustificant": {
            "type": "string",
            "description": "Indica si a la resposta s'ha d'incloure el justificant de registre",
            "example": "true"
          }
        },
        "description": "Objecte amb les dades necessàries per consultar les dades de registre d'una notificació o enviament"
      },
      "RespostaConsultaDadesRegistreV2": {
        "type": "object",
        "properties": {
          "error": {
            "type": "boolean",
            "description": "Indica si s'ha produït algún error en l'enviament",
            "example": true
          },
          "errorData": {
            "type": "string",
            "description": "Data en que s'ha produït l'error",
            "format": "date-time"
          },
          "errorDescripcio": {
            "type": "string",
            "description": "Identificador de la notificació a Notib",
            "example": "java.lang.NullPointerException"
          },
          "numRegistre": {
            "type": "integer",
            "description": "Número de registre",
            "format": "int32",
            "example": 1753
          },
          "numeroFormatat": {
            "type": "string",
            "description": "Número de registre amb format",
            "example": "GOIBS1753/2023"
          },
          "dataRegistre": {
            "type": "string",
            "description": "Data del registre",
            "format": "date-time"
          },
          "justificant": {
            "type": "array",
            "description": "Contingut del fitxer justificant",
            "items": {
              "type": "string",
              "description": "Contingut del fitxer justificant",
              "format": "byte"
            }
          },
          "oficina": {
            "type": "string",
            "description": "Oficina on s'ha realitzat el registre",
            "example": "Oficina Virtual"
          },
          "llibre": {
            "type": "string",
            "description": "Llibre on s'ha anotat el registre",
            "example": "Govern de les Illes Balears"
          },
          "enviamentSir": {
            "type": "boolean",
            "description": "Indica si s'ha realitzat l'enviament via SIR",
            "example": false
          },
          "dataRecepcioSir": {
            "type": "string",
            "description": "En cas d'enviament SIR, data en que s'ha recepcionat el registre",
            "format": "date-time"
          },
          "dataRegistreDestiSir": {
            "type": "string",
            "description": "En cas d'enviament SIR, data en que s'ha registrat en el registre de destí",
            "format": "date-time"
          }
        }
      },
      "DocumentV2": {
        "required": ["arxiuNom"],
        "type": "object",
        "properties": {
          "arxiuNom": {
            "maxLength": 200,
            "minLength": 0,
            "type": "string",
            "description": "Nom de l’arxiu",
            "example": "document.pdf"
          },
          "contingutBase64": {
            "type": "string",
            "description": "Contingut del document en Base64.\n * Obligatori si no està informat l’enllaç extern, l’uuid o el csv. * Mida màxima 10Mb",
            "example": "JVBERi0xLjYKJcOkw7zDtsOfCjIgMCBv=="
          },
          "uuid": {
            "maxLength": 256,
            "minLength": 0,
            "type": "string",
            "description": "Codi uuid que es pot utilitzar per tal d’obtenir el document imprimible del sistema d’arxiu\n * Obligatori si no està informat l’enllaç extern, el contingut en Base64 o el csv.",
            "example": "00000000-0000-0000-0000-000000000000"
          },
          "csv": {
            "maxLength": 256,
            "minLength": 0,
            "type": "string",
            "description": "Codi csv que es pot utilitzar per tal d’obtenir el document imprimible del sistema d’arxiu\n * Obligatori si no està informat l’enllaç extern, el contingut en Base64 o l'uuid.",
            "example": "aa10b27d8e221cf923715f01e01f515fa7cfec1322b6b49644a27a00461defea"
          },
          "url": {
            "maxLength": 256,
            "minLength": 0,
            "type": "string",
            "description": "Enllaç extern on es troba el document de l’enviament.\n * Obligatori si no està informat l’uuid, el contingut en Base64 o el csv. * Sistema actualment NO soportat.",
            "example": "http://server_path/document/123456.pdf"
          },
          "normalitzat": {
            "type": "boolean",
            "description": "Indica si el document està normalitzat per a la impressió al CIE. \n * Només aplica per enviaments postals.",
            "example": false,
            "default": false
          },
          "origen": {
            "type": "string",
            "description": "Enumerat que indica l’origen del document.\n * No s’utilitza en el cas de documents passats com a csv o uuid",
            "example": "ADMINISTRACIO",
            "default": "ADMINISTRACIO",
            "enum": ["CIUTADA", "ADMINISTRACIO"]
          },
          "tipoDocumental": {
            "type": "string",
            "description": "Enumerat que indica el tipus de document.\n * No s’utilitza en el cas de documents passats com a csv o uuid",
            "example": "INFORME",
            "default": "NOTIFICACIO",
            "enum": [
              "RESSOLUCIO",
              "ACORD",
              "CONTRACTE",
              "CONVENI",
              "DECLARACIO",
              "COMUNICACIO",
              "NOTIFICACIO",
              "PUBLICACIO",
              "JUSTIFICANT_RECEPCIO",
              "ACTA",
              "CERTIFICAT",
              "DILIGENCIA",
              "INFORME",
              "SOLICITUD",
              "DENUNCIA",
              "ALEGACIO",
              "RECURS",
              "COMUNICACIO_CIUTADA",
              "FACTURA",
              "ALTRES_INCAUTATS",
              "ALTRES",
              "LLEI",
              "MOCIO",
              "INSTRUCCIO",
              "CONVOCATORIA",
              "ORDRE_DIA",
              "INFORME_PONENCIA",
              "DICTAMEN_COMISSIO",
              "INICIATIVA_LEGISLATIVA",
              "PREGUNTA",
              "INTERPELACIO",
              "RESPOSTA",
              "PROPOSICIO_NO_LLEI",
              "ESQUEMA",
              "PROPOSTA_RESOLUCIO",
              "COMPAREIXENSA",
              "SOLICITUD_INFORMACIO",
              "ESCRIT",
              "INICIATIVA_LEGISLATIVA2",
              "PETICIO"
            ]
          },
          "validesa": {
            "type": "string",
            "description": "Enumerat que indica la validesa del document * No s’utilitza en el cas de documents passats com a csv o uuid",
            "example": "ORIGINAL",
            "default": "ORIGINAL",
            "enum": ["COPIA", "COPIA_AUTENTICA", "ORIGINAL"]
          },
          "modoFirma": {
            "type": "boolean",
            "description": "Indica, en cas de document pdf, si aquest està firmat electrònicament.\n * No s’utilitza en el cas de documents passats com a csv o uuid.",
            "example": false
          }
        },
        "description": "Document que s’envia en la comunicació.\n * Únicament es pot adjuntar més d’un document en cas de comunicacions a la administració (SIR)"
      },
      "EntregaDeh": {
        "type": "object",
        "properties": {
          "obligat": {
            "type": "boolean",
            "description": "Indica si l’enviament és obligatori o voluntari",
            "example": false,
            "default": false
          },
          "procedimentCodi": {
            "maxLength": 64,
            "minLength": 0,
            "type": "string",
            "description": "Codi del procediment a la DEH per a enviaments voluntaris.\n * Aquest camp NO s'utilitza, sinó que s’agafa el codi del procediment de la notificació.\n(Es manté únicament per compatibilitat amb els serveis de Notific@)",
            "example": "666666"
          }
        },
        "description": "Identificador del procediment SIA al que pertany la notificació * Obligatori únicament en cas d'indicar que es realitza entrega DEH\n__Actualment en desús amb l'entrada en funcionament de la DEHú__"
      },
      "EntregaPostal": {
        "required": ["codiPostal", "tipus"],
        "type": "object",
        "properties": {
          "tipus": {
            "type": "string",
            "description": "Enumerat que indica el tipus de entrega postal.",
            "example": "NACIONAL",
            "enum": [
              "NACIONAL",
              "ESTRANGER",
              "APARTAT_CORREUS",
              "SENSE_NORMALITZAR"
            ]
          },
          "viaTipus": {
            "type": "string",
            "description": "Enumerat que indica el tipus de via per a entregues postals\n * Obligatori quan tipoDomicili = NACIONAL",
            "example": "CARRER",
            "enum": [
              "ALAMEDA",
              "CALLE",
              "CAMINO",
              "CARRER",
              "CARRETERA",
              "GLORIETA",
              "KALEA",
              "PASAJE",
              "PASEO",
              "PLAÇA",
              "PLAZA",
              "RAMBLA",
              "RONDA",
              "RUA",
              "SECTOR",
              "TRAVESIA",
              "URBANIZACION",
              "AVENIDA",
              "AVINGUDA",
              "BARRIO",
              "CALLEJA",
              "CAMI",
              "CAMPO",
              "CARRERA",
              "CUESTA",
              "EDIFICIO",
              "ENPARANTZA",
              "ESTRADA",
              "JARDINES",
              "JARDINS",
              "PARQUE",
              "PASSEIG",
              "PRAZA",
              "PLAZUELA",
              "PLACETA",
              "POBLADO",
              "VIA",
              "TRAVESSERA",
              "PASSATGE",
              "BULEVAR",
              "POLIGONO",
              "OTROS"
            ]
          },
          "viaNom": {
            "maxLength": 50,
            "minLength": 0,
            "type": "string",
            "description": "Nom de la via per entregues postals\n * Obligatori quan tipoDomicili = NACIONAL o ESTRANGER",
            "example": "Aragó"
          },
          "numeroCasa": {
            "maxLength": 5,
            "minLength": 0,
            "type": "string",
            "description": "Número de la casa per entregues postals\n * Obligatori quan tipoDomicili = NACIONAL excepte si s’indica el punt quilomètric",
            "example": "26"
          },
          "numeroQualificador": {
            "maxLength": 3,
            "minLength": 0,
            "type": "string",
            "description": "Informació addicional sobre la numeració de l’adreça",
            "example": "bis"
          },
          "puntKm": {
            "maxLength": 30,
            "minLength": 0,
            "type": "string",
            "description": "Punt quilomètric per entregues postals\n * Obligatori quan tipoDomicili = NACIONAL excepte si s’indica numeroCasa",
            "example": "12.5"
          },
          "apartatCorreus": {
            "maxLength": 10,
            "minLength": 0,
            "type": "string",
            "description": "Apartat de correus per entregues postals\n * Obligatori quan tipoDomicili = APARTAT_CORREUS",
            "example": "123"
          },
          "portal": {
            "maxLength": 3,
            "minLength": 0,
            "type": "string",
            "description": "Portal de la casa per entregues postals",
            "example": "2"
          },
          "escala": {
            "maxLength": 3,
            "minLength": 0,
            "type": "string",
            "description": "Escala de la casa per entregues postals",
            "example": "B"
          },
          "planta": {
            "maxLength": 3,
            "minLength": 0,
            "type": "string",
            "description": "Planta de la casa per entregues postals",
            "example": "4"
          },
          "porta": {
            "maxLength": 3,
            "minLength": 0,
            "type": "string",
            "description": "Porta de la casa per entregues postals",
            "example": "2"
          },
          "bloc": {
            "maxLength": 3,
            "minLength": 0,
            "type": "string",
            "description": "Bloc de la casa per entregues postals",
            "example": "C"
          },
          "complement": {
            "maxLength": 40,
            "minLength": 0,
            "type": "string",
            "description": "Informació extra sobre la casa per entregues postals",
            "example": "Edificio Walden"
          },
          "codiPostal": {
            "maxLength": 10,
            "minLength": 0,
            "type": "string",
            "description": "Codi postal de la casa per entregues postals.\n * Per enviaments internacionals a països sense codi posatal es pot posar 00000.",
            "example": "07003"
          },
          "poblacio": {
            "maxLength": 255,
            "minLength": 0,
            "type": "string",
            "description": "Població on s’entrega l’enviament\n * Obligatori quan tipoDomicili = NACIONAL, ESTRANGER o APARTAT_POSTAL",
            "example": "Palma"
          },
          "municipiCodi": {
            "maxLength": 6,
            "minLength": 0,
            "type": "string",
            "description": "Codi INE de 6 caràcters del municipi on s’entrega l’enviament (inclou codi de control)\n * Obligatori quan tipoDomicili = NACIONAL o APARTAT_POSTAL",
            "example": "070407"
          },
          "provincia": {
            "maxLength": 2,
            "minLength": 0,
            "type": "string",
            "description": "Codi INE de 2 dígits de la província on s’entrega l’enviament\n * Obligatori quan tipoDomicili = NACIONAL o APARTAT_POSTAL",
            "example": "07"
          },
          "paisCodi": {
            "maxLength": 2,
            "minLength": 0,
            "type": "string",
            "description": "Codi ISO 3166 de 2 caràcters del país on s’entrega l’enviament\n* Obligatori quan tipoDomicili = ESTRANGER",
            "example": "DE"
          },
          "linea1": {
            "maxLength": 50,
            "minLength": 0,
            "type": "string",
            "description": "Línia 1 de l’adreça d’entrega de l’enviament sense normalitzar\n * Obligatori quan tipoDomicili = SENSE_NORMALITZAR",
            "example": "Carrer Aragó 26bis, 4t - 3"
          },
          "linea2": {
            "maxLength": 50,
            "minLength": 0,
            "type": "string",
            "description": "Línia 2 de l’adreça d’entrega de l’enviament sense normalitzar\n * Obligatori quan tipoDomicili = SENSE_NORMALITZAR",
            "example": "Palma 07003 - Illes Balears"
          },
          "cie": {
            "type": "string",
            "description": "Línia 2 de l’adreça d’entrega de l’enviament sense normalitzar",
            "example": "Servera"
          },
          "formatSobre": {
            "maxLength": 10,
            "minLength": 0,
            "type": "string",
            "description": "Cadena indicant el format del sobre ",
            "example": "C5"
          },
          "formatFulla": {
            "maxLength": 10,
            "minLength": 0,
            "type": "string",
            "description": "Cadena indicant el format de la fulla",
            "example": "A4"
          }
        },
        "description": "Objecte amb les dades necessàries per a realitzar una entrega postal\n * Obligatori únicament en cas d'indicar que es realitza entrega postal(Consultar prèviament si està disponible l'entrega postal a l'òrgan gestor emissor)"
      },
      "Enviament": {
        "required": ["titular"],
        "type": "object",
        "properties": {
          "titular": { "$ref": "#/components/schemas/Persona" },
          "destinataris": {
            "type": "array",
            "description": "Conjunt de destinataris als que s'enviarà la notificació.\n * Depenent de l'entitat es permet informar únicament un destinatari per enviament a múltiples destinataris (Ex. la CAIB únicamnet admet un destinatari.\n * En cas d'informar múltiples destinataris, només que un d'ells accepti la notificació, aquesta es dóna per notificada.",
            "items": { "$ref": "#/components/schemas/Persona" }
          },
          "entregaPostalActiva": {
            "type": "boolean",
            "description": "Indica si s'ha de realitzar entrega postal\n(Consultar prèviament si està disponible l'entrega postal a l'òrgan gestor emissor)",
            "example": false
          },
          "entregaPostal": { "$ref": "#/components/schemas/EntregaPostal" },
          "entregaDehActiva": {
            "type": "boolean",
            "description": "Indica si s'ha de realitzar l'enviament a la DEH\n__Actualment en desús amb l'entrada en funcionament de la DEHú__",
            "example": false,
            "default": false
          },
          "entregaDeh": { "$ref": "#/components/schemas/EntregaDeh" },
          "serveiTipus": {
            "type": "string",
            "description": "Enumerat que indica la urgència que té l’enviament.",
            "example": "NORMAL",
            "enum": ["NORMAL", "URGENT"]
          }
        },
        "description": "Llista d'enviaments continguts en la Notificació/Comunicació"
      },
      "NotificacioV2": {
        "required": [
          "concepte",
          "document",
          "emisorDir3Codi",
          "enviamentTipus",
          "enviaments",
          "usuariCodi"
        ],
        "type": "object",
        "properties": {
          "emisorDir3Codi": {
            "maxLength": 9,
            "minLength": 0,
            "type": "string",
            "description": "Codi Dir3 de l’organisme emisor\n(Entitat de Notib)",
            "example": "A04003003"
          },
          "organGestor": {
            "maxLength": 9,
            "minLength": 0,
            "type": "string",
            "description": "Codi DIR3 de l’òrgan gestor que realitza la notificació/comunicació.\n * Obligatori en el cas de procediments comuns.\n * En el cas de notificacions de procediments no comuns, no s'utilitzarà aquest camp, sinó que s’utilitzarà l’òrgan gestor al que pertany el procediment.",
            "example": "A04035965"
          },
          "enviamentTipus": {
            "type": "string",
            "description": "Enumerat que indica si l’enviament és una comunicació o una notificació",
            "example": "NOTIFICACIO",
            "default": "COMUNICACIO",
            "enum": ["NOTIFICACIO", "COMUNICACIO", "SIR"]
          },
          "concepte": {
            "maxLength": 240,
            "minLength": 0,
            "type": "string",
            "description": "Concepte de l’enviament. \n * Si ha d’anar a CIE només s’agafaran els 50 primers caràcters",
            "example": "Concepte de la notificació"
          },
          "descripcio": {
            "maxLength": 1000,
            "minLength": 0,
            "type": "string",
            "description": "Descripció detallada de l’enviament",
            "example": "Descripció de la notificació"
          },
          "enviamentDataProgramada": {
            "type": "string",
            "description": "Data en la que l’enviament es posarà a disposició per a la compareixença.\n * En cas de no informar-se es posarà en disposició per a la compareixença de forma inmediata.\n\nEl format de la data serà del tipus yyyy-MM-dd",
            "format": "date-time"
          },
          "retard": {
            "type": "integer",
            "description": "Dies que l’enviament estarà a disposició de compareixença en carpeta abans d’entregar-lo per altres mitjans",
            "format": "int32",
            "example": 5
          },
          "caducitat": {
            "type": "string",
            "description": "Data d’expiració de l’enviament.\n * Aquest camp és excloent amb el de caducitatDiesNaturals. Només s'ha d'indicar un dels dos. En cas d'informar els dos, s'ignorarà el camp caducitatDiesNaturals.\n * Aquest camp és obligatori per notificacions i opcional per a comunicacions.\n\nEl format de la data serà del tipus yyyy-MM-dd",
            "format": "date-time"
          },
          "caducitatDiesNaturals": {
            "type": "integer",
            "description": "Dies naturals abans que expiri l'enviament\n * Aquest camp és excloent amb el de caducitat. Només s'ha d'indicar un dels dos. En cas d'informar els dos, aquest s'ignorarà.",
            "format": "int32",
            "example": 10
          },
          "usuariCodi": {
            "maxLength": 64,
            "minLength": 0,
            "type": "string",
            "description": "Codi de l’usuari que està realitzant la notificació.\nAquest usuari s'utilitzarà per a realitzar l'assentament registral de sortida",
            "example": "u000000"
          },
          "procedimentCodi": {
            "maxLength": 64,
            "minLength": 0,
            "type": "string",
            "description": "Identificador del procediment SIA al que pertany la notificació.\nObligatori en el cas de notificacions",
            "example": "666666"
          },
          "grupCodi": {
            "maxLength": 64,
            "minLength": 0,
            "type": "string",
            "description": "Codi del grup al que s’assigna la notificació.\n * Aquest camp només té sentit quan es vol donar d’alta una notificació que s’ha configurat amb grups a Notifica (veure manual d’usuari)",
            "example": "NOT_DG_DESTECNOLOGIC"
          },
          "numExpedient": {
            "maxLength": 80,
            "minLength": 0,
            "type": "string",
            "description": "Identificador de l'expedient al qual pertany la notificació",
            "example": "123/2023"
          },
          "enviaments": {
            "type": "array",
            "description": "Llista d'enviaments continguts en la Notificació/Comunicació",
            "items": { "$ref": "#/components/schemas/Enviament" }
          },
          "idioma": {
            "type": "string",
            "description": "Enumerat que indica l’idioma de la notificació",
            "example": "ES",
            "default": "CA",
            "enum": ["CA", "ES"]
          },
          "document": { "$ref": "#/components/schemas/DocumentV2" },
          "document2": { "$ref": "#/components/schemas/DocumentV2" },
          "document3": { "$ref": "#/components/schemas/DocumentV2" },
          "document4": { "$ref": "#/components/schemas/DocumentV2" },
          "document5": { "$ref": "#/components/schemas/DocumentV2" }
        },
        "description": "Objecte amb les dades necessàries per a donar d'alta una notificació"
      },
      "Persona": {
        "required": ["dir3Codi", "interessatTipus"],
        "type": "object",
        "properties": {
          "incapacitat": {
            "type": "boolean",
            "description": "Indica si el titular es incapacitat per llegir/rebutjar la notificació.\nEn aquest cas, seria obligatori informar un destinatari de l'enviament.",
            "example": false,
            "default": false
          },
          "interessatTipus": {
            "type": "string",
            "description": "Enumerat que indica el tipus de l’interessat que realitza l’enviament.\n * En cas d'indicar un interessat tipus FISICA_SENSE_NIF serà obligatori informar el camp documentTipus",
            "example": "FISICA",
            "enum": ["ADMINISTRACIO", "FISICA", "JURIDICA", "FISICA_SENSE_NIF"]
          },
          "nom": {
            "maxLength": 30,
            "minLength": 0,
            "type": "string",
            "description": "Nom del titular.\n * Obligatori en cas de persones físiques\n * Mida màxima de 255 caràcters quan es tracta d'una administració\n * Mida màxima de 30 caràcters per la resta de tipus d'interessats\n * En el cas de persones jurídiques es posarà el nom en el camp raoSocial. En cas de no informar-se el camp raoSocial s'agafarà el valor indicat en aquest camp",
            "example": "Joan"
          },
          "llinatge1": {
            "maxLength": 30,
            "minLength": 0,
            "type": "string",
            "description": "Primer llinatge de l’interessat\n * Obligatori en cas de persones físiques",
            "example": "Riera"
          },
          "llinatge2": {
            "maxLength": 30,
            "minLength": 0,
            "type": "string",
            "description": "Segon llinatge de l’interessat",
            "example": "Servera"
          },
          "documentTipus": {
            "type": "string",
            "description": "Enumerat que indica el tipus de document aportat per l’interessat\n * Aquest camp únicament es té en compte quan el tipus d’interessat és FISICA_SENSE_NIF",
            "example": "PASSAPORT",
            "enum": ["PASSAPORT", "ESTRANGER", "ALTRE"]
          },
          "nif": {
            "maxLength": 9,
            "minLength": 0,
            "type": "string",
            "description": "Número del document de l'interessat\n * Obligatori excepte per interessats tipus FISICA_SENSE_NIF",
            "example": "00000000T"
          },
          "telefon": {
            "maxLength": 16,
            "minLength": 0,
            "type": "string",
            "description": "Telèfon de l’interessat\n * Actualment no s’utilitza",
            "example": "678123456"
          },
          "email": {
            "maxLength": 160,
            "minLength": 0,
            "type": "string",
            "description": "Correu electrònic de l’interessat. \n * Altament recomanat el seu ús.",
            "example": "persona@correu.es"
          },
          "raoSocial": {
            "maxLength": 80,
            "minLength": 0,
            "type": "string",
            "description": "Raó social de l’interessat\n * S’utilitza únicament en cas de persones jurídiques, i si no s’informa aquest camp, s’utilitzarà el valor del camp nom. És obligatori que un dels dos camps estigui informat",
            "example": "Amazon ltd."
          },
          "dir3Codi": {
            "maxLength": 9,
            "minLength": 0,
            "type": "string",
            "description": "Codi DIR3 de la administració a la que pertany la persona.\n * Obligatori si s’ha d’enviar a una administració.",
            "example": "A04035965"
          }
        },
        "description": "Representants a qui enviar l'enviament"
      },
      "EnviamentReferenciaV2": {
        "type": "object",
        "properties": {
          "titularNom": {
            "type": "string",
            "description": "Nom del titular a qui va adreçat l'enviament",
            "example": "Pep Riera"
          },
          "titularNif": {
            "type": "string",
            "description": "Nif del titular a qui va adreçat l'enviament",
            "example": "00000000T"
          },
          "titularEmail": {
            "type": "string",
            "description": "Correu electrònic del titular a qui va adreçat l'enviament",
            "example": "titular@correu.es"
          },
          "referencia": {
            "type": "string",
            "description": "Referència (identificador) única de l'enviament a Notib",
            "example": "00000000-0000-0000-0000-000000000000"
          }
        },
        "description": "Referències (identificadors) úniques que s'han assignat a de cada un dels enviaments de la notificació"
      },
      "RespostaAltaV2": {
        "type": "object",
        "properties": {
          "error": {
            "type": "boolean",
            "description": "Indica si s'ha produït algún error en l'enviament",
            "example": true
          },
          "errorData": {
            "type": "string",
            "description": "Data en que s'ha produït l'error",
            "format": "date-time"
          },
          "errorDescripcio": {
            "type": "string",
            "description": "Identificador de la notificació a Notib",
            "example": "java.lang.NullPointerException"
          },
          "identificador": {
            "type": "string",
            "description": "Identificador únic que se li ha assignat a la notificació a Notib",
            "example": "00000000-0000-0000-0000-000000000000"
          },
          "estat": {
            "type": "string",
            "description": "Estat de la notificació",
            "example": "PENDENT",
            "enum": [
              "PENDENT",
              "ENVIADA",
              "REGISTRADA",
              "FINALITZADA",
              "PROCESSADA",
              "ENVIADA_AMB_ERRORS",
              "FINALITZADA_AMB_ERRORS"
            ]
          },
          "referencies": {
            "type": "array",
            "description": "Referències (identificadors) úniques que s'han assignat a de cada un dels enviaments de la notificació",
            "items": { "$ref": "#/components/schemas/EnviamentReferenciaV2" }
          },
          "dataCreacio": {
            "type": "string",
            "description": "Data en que s'ha donat d'alta la notificació",
            "example": "2023-05-29T07:32:03.526+0000"
          }
        }
      },
      "Fitxer": {
        "type": "object",
        "properties": {
          "nom": {
            "type": "string",
            "description": "Nom del fitxer",
            "example": "document"
          },
          "contentType": {
            "type": "string",
            "description": "Tipus de contingut del fitxer",
            "example": "application/pdf"
          },
          "contingut": {
            "type": "string",
            "description": "Contingut del fitxer"
          },
          "tamany": {
            "type": "integer",
            "description": "Mida del fitxer",
            "format": "int64",
            "example": 4265384
          }
        },
        "description": "Fitxer del justificant"
      },
      "RespostaConsultaJustificantEnviament": {
        "type": "object",
        "properties": {
          "error": {
            "type": "boolean",
            "description": "Indica si s'ha produït algún error en l'enviament",
            "example": true
          },
          "errorData": {
            "type": "string",
            "description": "Data en que s'ha produït l'error",
            "format": "date-time"
          },
          "errorDescripcio": {
            "type": "string",
            "description": "Identificador de la notificació a Notib",
            "example": "java.lang.NullPointerException"
          },
          "justificant": { "$ref": "#/components/schemas/Fitxer" }
        }
      },
      "Procediment": {
        "type": "object",
        "properties": {
          "codiSia": {
            "type": "string",
            "description": "Codi SIA del procediment",
            "example": "666666"
          },
          "nom": {
            "type": "string",
            "description": "Nom del procediment",
            "example": "Instància genèrica"
          }
        },
        "description": "Procediment al que pertany la notificació"
      },
      "RespostaConsultaEstatNotificacioV2": {
        "type": "object",
        "properties": {
          "error": {
            "type": "boolean",
            "description": "Indica si s'ha produït algún error en l'enviament",
            "example": true
          },
          "errorData": {
            "type": "string",
            "description": "Data en que s'ha produït l'error",
            "format": "date-time"
          },
          "errorDescripcio": {
            "type": "string",
            "description": "Identificador de la notificació a Notib",
            "example": "java.lang.NullPointerException"
          },
          "identificador": {
            "type": "string",
            "description": "Identificador de la notificació a Notib",
            "example": "00000000-0000-0000-0000-000000000000"
          },
          "estat": {
            "type": "string",
            "description": "Enumerat amb la informació de l'estat de l'enviament",
            "example": "FINALITZADA",
            "enum": [
              "PENDENT",
              "ENVIADA",
              "REGISTRADA",
              "FINALITZADA",
              "PROCESSADA",
              "ENVIADA_AMB_ERRORS",
              "FINALITZADA_AMB_ERRORS"
            ]
          },
          "tipus": {
            "type": "string",
            "description": "Indica si l’enviament és una comunicació o una notificació",
            "example": "NOTIFICACIO"
          },
          "emisorDir3": {
            "type": "string",
            "description": "Codi Dir3 de l’organisme emisor\n(Entitat de Notib)",
            "example": "A04003003"
          },
          "procediment": { "$ref": "#/components/schemas/Procediment" },
          "organGestorDir3": {
            "type": "string",
            "description": "Codi DIR3 de l’òrgan gestor que realitza la notificació/comunicació",
            "example": "A04035965"
          },
          "concepte": {
            "type": "string",
            "description": "Concepte de la notificació",
            "example": "Concepte de la notificació"
          },
          "numExpedient": {
            "type": "string",
            "description": "Identificador de l'expedient al qual pertany la notificació",
            "example": "123/2023"
          },
          "dataCreada": {
            "type": "string",
            "description": "Data en que s'ha donat d'alta la notificació",
            "format": "date-time"
          },
          "dataEnviada": {
            "type": "string",
            "description": "Data en que s'ha enviat la notificació a Notifica (o SIR)",
            "format": "date-time"
          },
          "dataFinalitzada": {
            "type": "string",
            "description": "Data en que s'ha finalitzat la notificació",
            "format": "date-time"
          },
          "dataProcessada": {
            "type": "string",
            "description": "Data en que s'ha marcat la notificació com a processada",
            "format": "date-time"
          }
        }
      },
      "Certificacio": {
        "type": "object",
        "properties": {
          "data": {
            "type": "string",
            "description": "Data de creació de la certificació de la notificació",
            "format": "date-time"
          },
          "origen": {
            "type": "string",
            "description": "Origen de la certificació",
            "example": "carpeta"
          },
          "contingutBase64": {
            "type": "string",
            "description": "Contingut de la certificació en Base64.",
            "example": "JVBERi0xLjYKJcOkw7zDtsOfCjIgMCBv=="
          },
          "tamany": {
            "type": "integer",
            "description": "Mida de la certificació",
            "format": "int32",
            "example": 4265384
          },
          "hash": {
            "type": "string",
            "description": "Hash de la certificació",
            "example": "00000000"
          },
          "metadades": {
            "type": "string",
            "description": "Metadades de la certificació",
            "example": "00000000"
          },
          "csv": {
            "type": "string",
            "description": "Codi CSV de la certificació",
            "example": "aa10b27d8e221cf923715f01e01f515fa7cfec1322b6b49644a27a00461defea"
          },
          "tipusMime": {
            "type": "string",
            "description": "Tipus MIME de la certificació",
            "example": "application/pdf"
          }
        },
        "description": "Informació de la certificació realitzada a Notific@"
      },
      "Datat": {
        "type": "object",
        "properties": {
          "estat": {
            "type": "string",
            "description": "Estat de la notificació",
            "example": "NOTIFICADA",
            "enum": [
              "NOTIB_PENDENT",
              "NOTIB_ENVIADA",
              "ABSENT",
              "ADRESA_INCORRECTA",
              "DESCONEGUT",
              "ENVIADA_CI",
              "ENVIADA_DEH",
              "ENVIAMENT_PROGRAMAT",
              "ENTREGADA_OP",
              "ERROR_ENTREGA",
              "EXPIRADA",
              "EXTRAVIADA",
              "MORT",
              "LLEGIDA",
              "NOTIFICADA",
              "PENDENT",
              "PENDENT_ENVIAMENT",
              "PENDENT_SEU",
              "PENDENT_CIE",
              "PENDENT_DEH",
              "REBUTJADA",
              "SENSE_INFORMACIO",
              "FINALITZADA",
              "ENVIADA",
              "REGISTRADA",
              "PROCESSADA",
              "ANULADA",
              "ENVIAT_SIR",
              "ENVIADA_AMB_ERRORS",
              "FINALITZADA_AMB_ERRORS"
            ]
          },
          "data": {
            "type": "string",
            "description": "Data en que s'ha creat el datat",
            "format": "date-time"
          },
          "origen": {
            "type": "string",
            "description": "Origen del datat",
            "example": "carpeta"
          },
          "receptorNif": {
            "type": "string",
            "description": "Nif del receptor de la notificació",
            "example": "00000000T"
          },
          "receptorNom": {
            "type": "string",
            "description": "Nom del receptor de la notificació",
            "example": "Pep Riera"
          },
          "errorDescripcio": {
            "type": "string",
            "description": "Descripció de l'error, en cas que es datat tingui algun error",
            "example": "java.lang.NullPointerException"
          },
          "numSeguiment": {
            "type": "string",
            "description": "Número de seguiment, en cas d'enviament postal\n * Camp actualemnt no utilitzat",
            "example": "123456789"
          }
        },
        "description": "Informació del datat realitzat a Notific@"
      },
      "Registre": {
        "type": "object",
        "properties": {
          "numero": {
            "type": "integer",
            "description": "Número de registre",
            "format": "int32",
            "example": 1753
          },
          "data": {
            "type": "string",
            "description": "Data del registre",
            "format": "date-time"
          },
          "numeroFormatat": {
            "type": "string",
            "description": "Número de registre amb format",
            "example": "GOIBS1753/2023"
          },
          "estat": {
            "type": "string",
            "description": "Estat del registre",
            "example": "VALID",
            "enum": [
              "VALID",
              "RESERVA",
              "PENDENT",
              "OFICI_EXTERN",
              "OFICI_INTERN",
              "OFICI_ACCEPTAT",
              "DISTRIBUIT",
              "ANULAT",
              "RECTIFICAT",
              "REBUTJAT",
              "REENVIAT",
              "DISTRIBUINT",
              "OFICI_SIR"
            ]
          },
          "oficina": {
            "type": "string",
            "description": "Oficina on s'ha realitzat el registre",
            "example": "Oficina Virtual"
          },
          "llibre": {
            "type": "string",
            "description": "Llibre on s'ha anotat el registre",
            "example": "Govern de les Illes Balears"
          }
        },
        "description": "Informació de l'apunt de registre de sortida realitzat per l'enviament"
      },
      "RespostaConsultaEstatEnviamentV2": {
        "type": "object",
        "properties": {
          "error": {
            "type": "boolean",
            "description": "Indica si s'ha produït algún error en l'enviament",
            "example": true
          },
          "errorData": {
            "type": "string",
            "description": "Data en que s'ha produït l'error",
            "format": "date-time"
          },
          "errorDescripcio": {
            "type": "string",
            "description": "Identificador de la notificació a Notib",
            "example": "java.lang.NullPointerException"
          },
          "identificador": {
            "type": "string",
            "description": "Identificador de la notificació a Notib",
            "example": "00000000-0000-0000-0000-000000000000"
          },
          "referencia": {
            "type": "string",
            "description": "Identificador de l'enviament a Notib",
            "example": "00000000-0000-0000-0000-000000000000"
          },
          "notificaIndentificador": {
            "type": "string",
            "description": "Identificador de l'enviament a Notific@",
            "example": "QNzVj5Z9BvbLyftgqDhP"
          },
          "estat": {
            "type": "string",
            "description": "Enumerat amb la informació de l'estat de l'enviament",
            "example": "NOTIFICADA",
            "enum": [
              "NOTIB_PENDENT",
              "NOTIB_ENVIADA",
              "ABSENT",
              "ADRESA_INCORRECTA",
              "DESCONEGUT",
              "ENVIADA_CI",
              "ENVIADA_DEH",
              "ENVIAMENT_PROGRAMAT",
              "ENTREGADA_OP",
              "ERROR_ENTREGA",
              "EXPIRADA",
              "EXTRAVIADA",
              "MORT",
              "LLEGIDA",
              "NOTIFICADA",
              "PENDENT",
              "PENDENT_ENVIAMENT",
              "PENDENT_SEU",
              "PENDENT_CIE",
              "PENDENT_DEH",
              "REBUTJADA",
              "SENSE_INFORMACIO",
              "FINALITZADA",
              "ENVIADA",
              "REGISTRADA",
              "PROCESSADA",
              "ANULADA",
              "ENVIAT_SIR",
              "ENVIADA_AMB_ERRORS",
              "FINALITZADA_AMB_ERRORS"
            ]
          },
          "estatData": {
            "type": "string",
            "description": "Data en que s'ha assignat l'estat actual de l'enviament",
            "format": "date-time"
          },
          "estatDescripcio": {
            "type": "string",
            "description": "Descripció de l'estat de l'enviament",
            "example": "notificada"
          },
          "enviamentSir": {
            "type": "boolean",
            "description": "Indica si l'enviament s'ha realitzat a través de SIR",
            "example": false
          },
          "dehObligat": {
            "type": "boolean",
            "description": "Indica si el destinatari està obligat a rebre les notificacions al DEH",
            "example": false
          },
          "dehNif": {
            "type": "string",
            "description": "Nif a utilitzar per l'enviamnt a DEH",
            "example": "00000000T"
          },
          "entragaPostalActiva": {
            "type": "boolean",
            "description": "Indica si l'enviament està configurat per enviament postal",
            "example": false
          },
          "adressaPostal": {
            "type": "string",
            "description": "Adreça on es realitzarà l'enviament postal",
            "example": "Carrer Aragó 26bis, 4t - 3, Palma 07003 - Illes Balears"
          },
          "interessat": { "$ref": "#/components/schemas/Persona" },
          "representants": {
            "type": "array",
            "description": "Representants a qui enviar l'enviament",
            "items": { "$ref": "#/components/schemas/Persona" }
          },
          "registre": { "$ref": "#/components/schemas/Registre" },
          "sir": { "$ref": "#/components/schemas/Sir" },
          "datat": { "$ref": "#/components/schemas/Datat" },
          "certificacio": { "$ref": "#/components/schemas/Certificacio" }
        }
      },
      "Sir": {
        "type": "object",
        "properties": {
          "dataRecepcio": {
            "type": "string",
            "description": "Data en que s'ha recepcionat el registre",
            "format": "date-time"
          },
          "dataRegistreDesti": {
            "type": "string",
            "description": "Data en que s'ha registrat en el registre de destí",
            "format": "date-time"
          }
        },
        "description": "Informació per a l'enviament SIR"
      },
      "DocumentConsultaV2": {
        "type": "object",
        "properties": {
          "nom": {
            "type": "string",
            "description": "Nom del document",
            "example": "document.pdf"
          },
          "mediaType": {
            "type": "string",
            "description": "Tipus de document",
            "example": "application/pdf"
          },
          "mida": {
            "type": "integer",
            "description": "Mida del document",
            "format": "int64",
            "example": 4532
          },
          "url": {
            "type": "string",
            "description": "Url per a la descàrrega del document",
            "example": "http://localhost:8080/notibapi/interna/v2/document/00000000-0000-0000-0000-000000000000"
          }
        },
        "description": "Document notificat",
        "example": "codi"
      },
      "GenericInfo": {
        "type": "object",
        "properties": {
          "codi": {
            "type": "string",
            "description": "Codi de l'element",
            "example": "codi"
          },
          "nom": {
            "type": "string",
            "description": "Nom de l'element",
            "example": "nom"
          },
          "descripcio": {
            "type": "string",
            "description": "Descripcio de l'element",
            "example": "descripcio"
          }
        },
        "description": "Tipus d'interessat"
      },
      "PersonaConsultaV2": {
        "type": "object",
        "properties": {
          "tipus": { "$ref": "#/components/schemas/GenericInfo" },
          "nom": {
            "type": "string",
            "description": "Nom de la persona",
            "example": "codi"
          },
          "llinatge1": {
            "type": "string",
            "description": "Primer llinatge de la persona",
            "example": "codi"
          },
          "llinatge2": {
            "type": "string",
            "description": "Segon llinatge de la persona",
            "example": "codi"
          },
          "nif": {
            "type": "string",
            "description": "NIF de la persona",
            "example": "codi"
          },
          "email": {
            "type": "string",
            "description": "Correu electrònic de la persona",
            "example": "codi"
          }
        },
        "description": "Persones representans, destinatàries de l'enviament"
      },
      "RespostaConsultaV2": {
        "type": "object",
        "properties": {
          "numeroElementsTotals": {
            "type": "integer",
            "description": "Número total de notificacions, segons el filtre aplicat",
            "format": "int32",
            "example": 127
          },
          "numeroElementsRetornats": {
            "type": "integer",
            "description": "Número de notificacions retornades, depenent de la paginació",
            "format": "int32",
            "example": 10
          },
          "resultat": {
            "type": "array",
            "description": "Llistat de les notificacions retornades",
            "items": { "$ref": "#/components/schemas/TransmissioV2" }
          },
          "error": {
            "type": "boolean",
            "description": "Error en la consulta",
            "example": false
          },
          "errorDescripcio": {
            "type": "string",
            "description": "Descripció de l'error",
            "example": "java.lang.NullPointerException"
          },
          "errorData": {
            "type": "string",
            "description": "Data de l'error",
            "format": "date-time"
          }
        }
      },
      "TransmissioV2": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "Identificador de l'enviament",
            "format": "int64"
          },
          "emisor": {
            "type": "string",
            "description": "Codi dir3 de l'entitat emisora",
            "example": "A04003003"
          },
          "organGestor": { "$ref": "#/components/schemas/GenericInfo" },
          "procediment": { "$ref": "#/components/schemas/GenericInfo" },
          "numExpedient": {
            "type": "string",
            "description": "Número de l’expedient al que està associada la notificació",
            "example": "123/2023"
          },
          "concepte": {
            "type": "string",
            "description": "Concepte de la notificació",
            "example": "Concepte de la notificació"
          },
          "descripcio": {
            "type": "string",
            "description": "Descripció de la notificació",
            "example": "Descripció de la notificació"
          },
          "dataEnviament": {
            "type": "string",
            "description": "Data d'enviament de la notificació",
            "format": "date-time"
          },
          "estat": { "$ref": "#/components/schemas/GenericInfo" },
          "dataEstat": {
            "type": "string",
            "description": "Data en que s'ha realitzat l'enviament",
            "format": "date-time"
          },
          "document": { "$ref": "#/components/schemas/DocumentConsultaV2" },
          "titular": { "$ref": "#/components/schemas/PersonaConsultaV2" },
          "destinataris": {
            "type": "array",
            "description": "Persones representans, destinatàries de l'enviament",
            "items": { "$ref": "#/components/schemas/PersonaConsultaV2" }
          },
          "error": {
            "type": "boolean",
            "description": "Informa si s'ha produït algun error en la notificació",
            "example": false
          },
          "errorData": {
            "type": "string",
            "description": "Data de l'error",
            "format": "date-time"
          },
          "errorDescripcio": {
            "type": "string",
            "description": "Descripció de l'error",
            "example": "java.lang.NullPointerException"
          },
          "justificant": {
            "type": "string",
            "description": "Url per a descarregar el justificant de registre",
            "example": "http://localhost:8080/notibapi/interna/v2/justificant/00000000-0000-0000-0000-000000000000"
          },
          "certificacio": {
            "type": "string",
            "description": "Url per a descarregar la Certificació generada al realitzar la compareixença de la notificació",
            "example": "http://localhost:8080/notibapi/interna/v2/certificacio/00000000-0000-0000-0000-000000000000"
          }
        },
        "description": "Llistat de les notificacions retornades"
      },
      "Arxiu": {
        "type": "object",
        "properties": {
          "nom": {
            "type": "string",
            "description": "Nom de l'arxiu'",
            "example": "document.pdf"
          },
          "mediaType": {
            "type": "string",
            "description": "Tipus d'arxiu",
            "example": "codi"
          },
          "contingut": {
            "type": "string",
            "description": "Contingut de l'arxiu en Base64",
            "example": "codi"
          },
          "error": {
            "type": "boolean",
            "description": "Indica si s'ha produït un error al intentar recuperar l'arxiu",
            "example": false
          },
          "missatgeError": {
            "type": "string",
            "description": "Descripció de l'error",
            "example": "No s'ha trobat el document."
          }
        }
      },
      "AppInfo": {
        "type": "object",
        "properties": {
          "nom": {
            "type": "string",
            "description": "Nom de l'aplicació",
            "example": "Notib"
          },
          "versio": {
            "type": "string",
            "description": "Versió de l'aplicació",
            "example": "2.0.1"
          },
          "data": {
            "type": "string",
            "description": "Data de compilació de l'aplicació",
            "example": "2023-05-29T11:36:55Z"
          }
        }
      }
    },
    "securitySchemes": {
      "basic": { "type": "http", "in": "header", "scheme": "basic" }
    }
  }
}
