<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="ca" lang="ca">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>${title}</title>
    <link rel="shortcut icon" type="image/x-ico" href="http://www.caib.es/sites/favicon.png">
    <meta http-equiv="Content-Language" content="ca">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="_csrf" content="">
    <meta name="_csrf_header" content="">
    <!-- SCRIPTS -->
    <script src="${resources}/carpeta/jquery-3.5.0.js"></script>
    <script src="${resources}/carpeta/popper.min.js"></script>
    <script src="${resources}/carpeta/bootstrap.min.js"></script>
    <!-- Datetimepicker -->
    <script src="${resources}/carpeta/moment-with-locales.min.js"></script>
    <script src="${resources}/carpeta/bootstrap-datetimepicker.js"></script>
    <!-- Del Goib -->
    <!--    <script src="${resources}/carpeta/globales.js" type="text/javascript"></script>-->
    <!-- DataTables -->
    <script src="${resources}/carpeta/jquery.dataTables.min.js" type="text/javascript"></script>
    <script src="${resources}/carpeta/datetime-moment.js" type="text/javascript"></script>
    <!-- ESTILS -->
    <link href="${resources}/carpeta/bootstrap.min.css" rel="stylesheet">
    <link href="${resources}/carpeta/bootstrap-datetimepicker.min.css" rel="stylesheet">
    <link href="${resources}/carpeta/goib.css" rel="stylesheet">
    <link href="${resources}/carpeta/carpeta.css" rel="stylesheet">
    <link href="${resources}/carpeta/open-iconic-bootstrap.css" rel="stylesheet">
    <link href="${resources}/carpeta/jquery.dataTables.min.css" rel="stylesheet">
    <link href="${resources}/carpeta/datatables.min.css" rel="stylesheet">


    <script type="text/javascript">

        function espera() {
    	   $('#llistat').hide();
           $("#carregantDetallRegistre").removeClass("loaderOcult");
        }


        function mostrantDetall(numeroRegistroFormateado){
            espera();
            window.location.replace('${urlDetalle}'+numeroRegistroFormateado);
        }
       
    </script>
</head>
<body class="fonsPlugin" >
<div id="carregantDetallRegistre" class="loader-container centrat loaderOcult">
    <div class="loader"></div>
</div>
<div id="llistat" class="container-contenido">
    <div class="infoNoMenu">
        <h2><p class="titol h2">${registro_listado}</p></h2>
        <div class="col-md-12 border-0 float-left p-0">
            <p class="lh15 text-estrofa">${registro_descripcion}</p>
            <div class="card-body tablaRegistros">

                <#if registros?has_content>
                <div class="mt-5">
                    <table id="dataTable_paginate" class="table table-striped table-bordered table-hover"
                           style="width:100%">
                        <thead class="table-success">
                        <tr>
                            <th>${registro_numero}</th>
                            <th style="width:120px !important">${registro_fecha}</th>
                            <th>${registro_extracto}</th>
                            <th>${registro_destinatario}</th>
                        </tr>
                        </thead>
                        <tbody>
                        <#setting date_format="MM/dd/yyyy hh">
                        <#list registros as registro >

                        <tr class="clickable-row"  onclick="mostrantDetall('${registro.numeroRegistro}')">
                            <td class="totLinia">${registro.numeroRegistro}</td>
                            <td class="totLinia" data-order="${registro.fechaRegistro?string('yyyyMMddHHmm')}">
                                ${registro.fechaRegistro?string("dd-MM-yyyy HH:mm")}
                            </td>
                            <td>
                                <label data-toggle="tooltip" data-placement="top" title="${registro.extracto}">
                                    <p class="tallarExtracte">${registro.extracto}</p>
                                </label>
                            </td>
                            <td>${registro.denominacionDestino}</td>
                        </tr>
                        </#list>
                        </tbody>
                    </table>
                    <script type="text/javascript">
                        $(document).ready(function () {
                            $.fn.dataTable.moment('DD/MM/YYY HH:mm');
                        });

                        $(function () {
                            $('[data-toggle="tooltip"]').tooltip()
                        })
                    </script>



                    <div class="row"  style="width:100%; text-align:center;" >

                        <div class="col-4" style="float:left;" ></div>

                        <div class="col-4">

                            <nav aria-label="Page navigation">
                                <ul class="pagination pagination-sm center">

                                    <#if paginacio.currentIndex==0>

                                        <li class="page-item disabled"><a class="page-link" href="#"><<</a></li>
                                        <li class="page-item disabled"><a class="page-link" href="#"><</a></li>

                                    </#if>
                                    <#if paginacio.currentIndex!=0>

                                        <li class="page-item"><a class="page-link" onclick="espera();" href="${firstUrl}" ><<</a></li>
                                        <li class="page-item"><a class="page-link" onclick="espera();" href="${prevUrl}" ><</a></li>

                                    </#if>

                                    <#list paginacio.beginIndex..paginacio.endIndex as j>
                                         <#if paginacio.currentIndex==j-1>
                                             <li class="page-item active"><a class="page-link" onclick="espera();" href="#">${j}</a></li>
                                         </#if>
                                         <#if paginacio.currentIndex!=j-1>
                                             <li  class="page-item"><a class="page-link" onclick="espera();" href="${pageUrl}${j}">${j}</a></li>
                                         </#if>

                                    </#list>


                                    <#if paginacio.currentIndex==paginacio.totalPages-1>
                                        <li  class="page-item disabled"><a class="page-link"  href="#"> &gt;</a></li>
                                        <li  class="page-item disabled"><a class="page-link"  href="#">&gt;&gt;</a></li>
                                    </#if>

                                    <#if paginacio.currentIndex!=paginacio.totalPages-1>
                                        <li class="page-item"><a class="page-link" href="${nextUrl}" onclick="espera();" >&gt;</a></li>
                                        <li class="page-item"><a class="page-link" href="${lastUrl}" onclick="espera();" >&gt;&gt;</a></li>
                                    </#if>

                                </ul>
                            </nav>
                       </div>
                    </div>

                <#else>
                    <div class="alert alert-secondary mt-5" role="alert">
                        ${registro_vacio}
                    </div>
                </#if>
        </div>
    </div>
</div>
</div>
</body>
</html>